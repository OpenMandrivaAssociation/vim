To: vim_dev@googlegroups.com
Subject: Patch 7.4.1487
Fcc: outbox
From: Bram Moolenaar <Bram@moolenaar.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
------------

Patch 7.4.1487
Problem:    For WIN32 isinf() is defined as a macro.
Solution:   Define it as an inline function. (ZyX)
Files:      src/macros.h


*** ../vim-7.4.1486/src/macros.h	2016-02-27 21:27:16.542519171 +0100
--- src/macros.h	2016-03-04 22:16:38.433659537 +0100
***************
*** 331,337 ****
  #  if defined(WIN32)
  #   ifndef isnan
  #    define isnan(x) _isnan(x)
! #    define isinf(x) (!_finite(x) && !_isnan(x))
  #   endif
  #  else
  #   ifndef HAVE_ISNAN
--- 331,337 ----
  #  if defined(WIN32)
  #   ifndef isnan
  #    define isnan(x) _isnan(x)
!      static inline int isinf(double x) { return !_finite(x) && !_isnan(x); }
  #   endif
  #  else
  #   ifndef HAVE_ISNAN
*** ../vim-7.4.1486/src/version.c	2016-03-04 22:12:07.448524475 +0100
--- src/version.c	2016-03-04 22:17:49.820903607 +0100
***************
*** 745,746 ****
--- 745,748 ----
  {   /* Add new patch number below this line */
+ /**/
+     1487,
  /**/

-- 
Never under any circumstances take a sleeping pill
and a laxative on the same night.

 /// Bram Moolenaar -- Bram@Moolenaar.net -- http://www.Moolenaar.net   \\\
///        sponsor Vim, vote for features -- http://www.Vim.org/sponsor/ \\\
\\\  an exciting new programming language -- http://www.Zimbu.org        ///
 \\\            help me help AIDS victims -- http://ICCF-Holland.org    ///
