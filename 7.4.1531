To: vim_dev@googlegroups.com
Subject: Patch 7.4.1531
Fcc: outbox
From: Bram Moolenaar <Bram@moolenaar.net>
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
------------

Patch 7.4.1531
Problem:    Compiler warning for unitinialized variable. (Dominique Pelle)
Solution:   Always give the variable a value.
Files:      src/channel.c


*** ../vim-7.4.1530/src/channel.c	2016-03-09 23:14:02.291262052 +0100
--- src/channel.c	2016-03-10 21:06:14.839310266 +0100
***************
*** 686,691 ****
--- 686,695 ----
  	    return NULL;
  	}
  
+ 	/* Limit the waittime to 50 msec.  If it doesn't work within this
+ 	 * time we close the socket and try creating it again. */
+ 	waitnow = waittime > 50 ? 50 : waittime;
+ 
  	/* If connect() didn't finish then try using select() to wait for the
  	 * connection to be made. For Win32 always use select() to wait. */
  #ifndef WIN32
***************
*** 701,710 ****
  	    struct timeval	start_tv;
  	    struct timeval	end_tv;
  #endif
- 	    /* Limit the waittime to 50 msec.  If it doesn't work within this
- 	     * time we close the socket and try creating it again. */
- 	    waitnow = waittime > 50 ? 50 : waittime;
- 
  	    FD_ZERO(&rfds);
  	    FD_SET(sd, &rfds);
  	    FD_ZERO(&wfds);
--- 705,710 ----
*** ../vim-7.4.1530/src/version.c	2016-03-10 16:33:25.809653229 +0100
--- src/version.c	2016-03-10 21:07:14.290684704 +0100
***************
*** 745,746 ****
--- 745,748 ----
  {   /* Add new patch number below this line */
+ /**/
+     1531,
  /**/

-- 
Don't Panic!
		-- The Hitchhiker's Guide to the Galaxy

 /// Bram Moolenaar -- Bram@Moolenaar.net -- http://www.Moolenaar.net   \\\
///        sponsor Vim, vote for features -- http://www.Vim.org/sponsor/ \\\
\\\  an exciting new programming language -- http://www.Zimbu.org        ///
 \\\            help me help AIDS victims -- http://ICCF-Holland.org    ///
