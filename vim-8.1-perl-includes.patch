diff -up vim-8.1.0001/src/configure.ac.omv~ vim-8.1.0001/src/configure.ac
--- vim-8.1.0001/src/configure.ac.omv~	2018-05-18 16:08:56.862463025 +0200
+++ vim-8.1.0001/src/configure.ac	2018-05-18 16:10:48.307946118 +0200
@@ -1049,6 +1049,7 @@ if test "$enable_perlinterp" = "yes" -o
 		-e 's/-pipe //' \
 		-e 's/-W[[^ ]]*//g' \
 		-e 's/-D_FORTIFY_SOURCE=.//g'`
+      perlcppflags="$perlcppflags -I/usr/lib64/perl5/CORE"
       dnl Remove "-lc", it breaks on FreeBSD when using "-pthread".
       perllibs=`cd $srcdir; $vi_cv_path_perl -MExtUtils::Embed -e 'ldopts' | \
 		sed -e '/Warning/d' -e '/Note (probably harmless)/d' \
diff -up vim-8.1.0001/src/if_perl.xs.omv~ vim-8.1.0001/src/if_perl.xs
--- vim-8.1.0001/src/if_perl.xs.omv~	2018-05-19 01:27:40.471102427 +0200
+++ vim-8.1.0001/src/if_perl.xs	2018-05-19 01:30:49.064630678 +0200
@@ -54,6 +54,7 @@
 # pragma GCC diagnostic ignored "-Wunused-variable"
 #endif
 
+typedef int64_t off64_t;
 #include <EXTERN.h>
 #include <perl.h>
 #include <XSUB.h>
